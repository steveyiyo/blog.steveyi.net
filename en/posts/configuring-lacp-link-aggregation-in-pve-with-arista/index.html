<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>PVE Configuration of Arista LACP Link Aggregation | SteveYi's Blog</title><meta name=keywords content><meta name=description content="Recently, we encountered a machine using two NVIDIA Mellanox ConnectX-4 network cards, with maximum speed support of 25G. However, since our optical module is only 10G, and Arista 7050QX also cannot support 25G Only, we decided to set up LACP.
Environment Arista 7050QX-32S Proxmox VE ovs-vsctl (Open vSwitch) 2.15.0 LACP Configuration on Arista This is divided into two steps:
Establish a Port Channel Assign Port Channel to physical network cards Note: Keep the switchport part as is, and remember to set up both Port Channel and Ethernet Interface on both ends."><meta name=author content="SteveYi"><link rel=canonical href=https://blog.steveyi.net/en/posts/configuring-lacp-link-aggregation-in-pve-with-arista/><link crossorigin=anonymous href=/assets/css/stylesheet.bccfefac377bc340f06c260aed1bddf49a4354816d7c570d6aac75a997986c95.css integrity="sha256-vM/vrDd7w0DwbCYK7Rvd9JpDVIFtfFcNaqx1qZeYbJU=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://blog.steveyi.net/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://blog.steveyi.net/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://blog.steveyi.net/favicon-32x32.png><link rel=apple-touch-icon href=https://blog.steveyi.net/apple-touch-icon.png><link rel=mask-icon href=https://blog.steveyi.net/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://blog.steveyi.net/en/posts/configuring-lacp-link-aggregation-in-pve-with-arista/><link rel=alternate hreflang=tw href=https://blog.steveyi.net/posts/configuring-lacp-link-aggregation-in-pve-with-arista/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-CPGWT2M3VT"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-CPGWT2M3VT",{anonymize_ip:!1})}</script><meta property="og:title" content="PVE Configuration of Arista LACP Link Aggregation"><meta property="og:description" content="Recently, we encountered a machine using two NVIDIA Mellanox ConnectX-4 network cards, with maximum speed support of 25G. However, since our optical module is only 10G, and Arista 7050QX also cannot support 25G Only, we decided to set up LACP.
Environment Arista 7050QX-32S Proxmox VE ovs-vsctl (Open vSwitch) 2.15.0 LACP Configuration on Arista This is divided into two steps:
Establish a Port Channel Assign Port Channel to physical network cards Note: Keep the switchport part as is, and remember to set up both Port Channel and Ethernet Interface on both ends."><meta property="og:type" content="article"><meta property="og:url" content="https://blog.steveyi.net/en/posts/configuring-lacp-link-aggregation-in-pve-with-arista/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-02-07T02:39:05+08:00"><meta property="article:modified_time" content="2023-02-07T02:39:05+08:00"><meta property="og:site_name" content="SteveYi's Blog"><meta name=twitter:card content="summary"><meta name=twitter:title content="PVE Configuration of Arista LACP Link Aggregation"><meta name=twitter:description content="Recently, we encountered a machine using two NVIDIA Mellanox ConnectX-4 network cards, with maximum speed support of 25G. However, since our optical module is only 10G, and Arista 7050QX also cannot support 25G Only, we decided to set up LACP.
Environment Arista 7050QX-32S Proxmox VE ovs-vsctl (Open vSwitch) 2.15.0 LACP Configuration on Arista This is divided into two steps:
Establish a Port Channel Assign Port Channel to physical network cards Note: Keep the switchport part as is, and remember to set up both Port Channel and Ethernet Interface on both ends."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://blog.steveyi.net/en/posts/"},{"@type":"ListItem","position":2,"name":"PVE Configuration of Arista LACP Link Aggregation","item":"https://blog.steveyi.net/en/posts/configuring-lacp-link-aggregation-in-pve-with-arista/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"PVE Configuration of Arista LACP Link Aggregation","name":"PVE Configuration of Arista LACP Link Aggregation","description":"Recently, we encountered a machine using two NVIDIA Mellanox ConnectX-4 network cards, with maximum speed support of 25G. However, since our optical module is only 10G, and Arista 7050QX also cannot support 25G Only, we decided to set up LACP.\nEnvironment Arista 7050QX-32S Proxmox VE ovs-vsctl (Open vSwitch) 2.15.0 LACP Configuration on Arista This is divided into two steps:\nEstablish a Port Channel Assign Port Channel to physical network cards Note: Keep the switchport part as is, and remember to set up both Port Channel and Ethernet Interface on both ends.","keywords":[],"articleBody":"Recently, we encountered a machine using two NVIDIA Mellanox ConnectX-4 network cards, with maximum speed support of 25G. However, since our optical module is only 10G, and Arista 7050QX also cannot support 25G Only, we decided to set up LACP.\nEnvironment Arista 7050QX-32S Proxmox VE ovs-vsctl (Open vSwitch) 2.15.0 LACP Configuration on Arista This is divided into two steps:\nEstablish a Port Channel Assign Port Channel to physical network cards Note: Keep the switchport part as is, and remember to set up both Port Channel and Ethernet Interface on both ends.\nCreate a Port Channel on Arista interface Port-Channel1001 description PVE-N1-LACP switchport mode trunk Assign Channel Group to Ethernet Interface It is better to set it to Active rather than Passive here to prevent LACP neighbor from failing to establish.\ninterface Ethernet7/1 description PVE-N1-P0(R) switchport mode trunk channel-group 1001 mode active ! interface Ethernet8/1 description PVE-N1-P1(L) switchport mode trunk channel-group 1001 mode active LACP Configuration on PVE There are two methods on PVE, which are:\nLinux Bond OVS Bond In this article, we will demonstrate using OVS Bond.\nInstall Open vSwitch Enter PVE Shell and enter the following command to install.\nsudo apt install openvswitch-switch -y Configure the Interface Card Note: Linux Bridge and OVS cannot be used together!\nFirst, create an OVS Bridge Create an OVS Bond Select LACP (balance-tcp) for Mode, and fill in the name of the physical network card in Slaves and bind it to the newly created OVS Bridge. If the network card is not in Trunk Mode, you can write the VLAN ID here or specify it when creating a VM.\nIf you want to learn more about OVS Bonding, you can refer to Hwchiu’s Understanding the OpenvSwitch Bonding.\nCreate OVS IntPort (optional) If you need to access the PVE panel through this LACP network card, you need to set the VLAN or Native VLAN card here.\nAfter everything is done, click Apply Configuration. At this point, the system will use the command ifreload --all to restart the entire PVE Host network and establish an LACP connection.\nIf everything is normal, LACP can be used normally~\nResults There are mainly two types here:\nLACP status Speed test results Check LACP status Arista\ncore#show interfaces Port-Channel 1001 Port-Channel1001 is up, line protocol is up (connected) Hardware is Port-Channel, address is 7483.ef49.cfda Description: PVE-N1-LACP Ethernet MTU 9214 bytes, BW 20000000 kbit Full-duplex, 20Gb/s Active members in this channel: 2 ... Ethernet7/1 , Full-duplex, 10Gb/s ... Ethernet8/1 , Full-duplex, 10Gb/s Fallback mode is: off Up 2 days, 10 hours, 21 minutes, 6 seconds 4 link status changes since last clear Last clearing of \"show interface\" counters never 5 minutes input rate 324 kbps (0.0% with framing overhead), 200 packets/sec 5 minutes output rate 582 kbps (0.0% with framing overhead), 496 packets/sec 913814733 packets input, 1101680299997 bytes Received 52458 broadcasts, 61239 multicast 0 input errors, 0 input discards 1430249790 packets output, 1734991390380 bytes Sent 13679583 broadcasts, 5532412 multicast 0 output errors, 1235 output discards PVE\nroot@node2:~# ovs-appctl bond/list bond type recircID members bond0 balance-tcp 1 ens20f1np1, ens20f0np0 root@node2:~# ovs-appctl bond/show bond0 ---- bond0 ---- bond_mode: balance-tcp bond may use recirculation: yes, Recirc-ID : 1 bond-hash-basis: 0 lb_output action: disabled, bond-id: -1 updelay: 0 ms downdelay: 0 ms next rebalance: 7952 ms lacp_status: negotiated lacp_fallback_ab: false active-backup primary: active member mac: b8:59:9f:ab:ff:89(ens20f1np1) member ens20f0np0: enabled may_enable: true hash 1: 1 kB load hash 2: 1 kB load hash 8: 5 kB load hash 15: 3 kB load hash 42: 1 kB load hash 45: 1 kB load hash 46: 1 kB load hash 49: 1 kB load hash 56: 1 kB load hash 63: 2 kB load hash 65: 1 kB load hash 70: 1 kB load hash 72: 1 kB load hash 84: 2 kB load hash 90: 4 kB load hash 99: 3 kB load hash 102: 32 kB load hash 105: 36 kB load hash 108: 33 kB load hash 111: 30 kB load hash 118: 13 kB load hash 122: 1 kB load hash 127: 8 kB load hash 135: 1 kB load hash 142: 2 kB load hash 151: 1 kB load hash 155: 30 kB load hash 169: 1 kB load hash 172: 5 kB load hash 176: 2 kB load hash 178: 3 kB load hash 184: 3 kB load hash 195: 3 kB load hash 204: 5 kB load hash 205: 1 kB load hash 207: 1 kB load hash 208: 6 kB load hash 210: 3 kB load hash 215: 1 kB load hash 235: 1 kB load hash 244: 30 kB load hash 247: 1 kB load hash 254: 3 kB load member ens20f1np1: enabled active member may_enable: true hash 3: 2 kB load hash 13: 1 kB load hash 21: 10 kB load hash 27: 1 kB load hash 32: 3 kB load hash 34: 2 kB load hash 40: 20 kB load hash 60: 40 ","wordCount":"819","inLanguage":"en","datePublished":"2023-02-07T02:39:05+08:00","dateModified":"2023-02-07T02:39:05+08:00","author":{"@type":"Person","name":"SteveYi"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.steveyi.net/en/posts/configuring-lacp-link-aggregation-in-pve-with-arista/"},"publisher":{"@type":"Organization","name":"SteveYi's Blog","logo":{"@type":"ImageObject","url":"https://blog.steveyi.net/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://blog.steveyi.net/en/ accesskey=h title="SteveYi's Blog (Alt + H)">SteveYi's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li><li><a href=https://blog.steveyi.net/ title=正體中文 aria-label=正體中文>Tw</a></li></ul></div></div><ul id=menu><li><a href=https://blog.steveyi.net/en/ title="Home Page"><span>Home</span></a></li><li><a href=https://blog.steveyi.net/en/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://blog.steveyi.net/en/about/ title=關於小易><span>About</span></a></li><li><a href=https://twitter.com/cool_small_yi title=Twitter><span>Twitter</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>PVE Configuration of Arista LACP Link Aggregation</h1><div class=post-meta><span title='2023-02-07 02:39:05 +0800 +0800'>2023-02-07</span>&nbsp;·&nbsp;SteveYi&nbsp;|&nbsp;Translations:<ul class=i18n_list><li><a href=https://blog.steveyi.net/posts/configuring-lacp-link-aggregation-in-pve-with-arista/>Tw</a></li></ul></div></header><div class=post-content><p>Recently, we encountered a machine using two NVIDIA Mellanox ConnectX-4 network cards, with maximum speed support of 25G. However, since our optical module is only 10G, and Arista 7050QX also cannot support 25G Only, we decided to set up LACP.</p><h2 id=environment>Environment<a hidden class=anchor aria-hidden=true href=#environment>#</a></h2><ul><li>Arista 7050QX-32S</li><li>Proxmox VE<ul><li>ovs-vsctl (Open vSwitch) 2.15.0</li></ul></li></ul><h2 id=lacp-configuration-on-arista>LACP Configuration on Arista<a hidden class=anchor aria-hidden=true href=#lacp-configuration-on-arista>#</a></h2><p>This is divided into two steps:</p><ul><li>Establish a Port Channel</li><li>Assign Port Channel to physical network cards</li></ul><hr><p>Note: Keep the <code>switchport</code> part as is, and remember to set up both Port Channel and Ethernet Interface on both ends.</p><hr><h3 id=create-a-port-channel-on-arista>Create a Port Channel on Arista<a hidden class=anchor aria-hidden=true href=#create-a-port-channel-on-arista>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>interface Port-Channel1001
</span></span><span style=display:flex><span>   description PVE-N1-LACP
</span></span><span style=display:flex><span>   switchport mode trunk
</span></span></code></pre></div><h3 id=assign-channel-group-to-ethernet-interface>Assign Channel Group to Ethernet Interface<a hidden class=anchor aria-hidden=true href=#assign-channel-group-to-ethernet-interface>#</a></h3><p>It is better to set it to Active rather than Passive here to prevent LACP neighbor from failing to establish.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>interface Ethernet7/1
</span></span><span style=display:flex><span>   description PVE-N1-P0<span style=color:#f92672>(</span>R<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>   switchport mode trunk
</span></span><span style=display:flex><span>   channel-group <span style=color:#ae81ff>1001</span> mode active
</span></span><span style=display:flex><span>!
</span></span><span style=display:flex><span>interface Ethernet8/1
</span></span><span style=display:flex><span>   description PVE-N1-P1<span style=color:#f92672>(</span>L<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>   switchport mode trunk
</span></span><span style=display:flex><span>   channel-group <span style=color:#ae81ff>1001</span> mode active
</span></span></code></pre></div><h2 id=lacp-configuration-on-pve>LACP Configuration on PVE<a hidden class=anchor aria-hidden=true href=#lacp-configuration-on-pve>#</a></h2><p>There are two methods on PVE, which are:</p><ul><li>Linux Bond</li><li>OVS Bond</li></ul><blockquote><p>In this article, we will demonstrate using OVS Bond.</p></blockquote><h3 id=install-open-vswitch>Install Open vSwitch<a hidden class=anchor aria-hidden=true href=#install-open-vswitch>#</a></h3><p>Enter PVE Shell and enter the following command to install.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>sudo apt install openvswitch-switch -y
</span></span></code></pre></div><h3 id=configure-the-interface-card>Configure the Interface Card<a hidden class=anchor aria-hidden=true href=#configure-the-interface-card>#</a></h3><p><em>Note: Linux Bridge and OVS cannot be used together!</em></p><ol><li>First, create an OVS Bridge</li></ol><p><img loading=lazy src=https://i.imgur.com/PRJDx2A.png alt></p><ol start=2><li>Create an OVS Bond</li></ol><p>Select LACP (balance-tcp) for Mode, and fill in the name of the physical network card in Slaves and bind it to the newly created OVS Bridge. If the network card is not in Trunk Mode, you can write the VLAN ID here or specify it when creating a VM.</p><p><img loading=lazy src=https://i.imgur.com/7fvU2gd.png alt></p><blockquote><p>If you want to learn more about OVS Bonding, you can refer to <a href=https://www.hwchiu.com/>Hwchiu</a>&rsquo;s <a href=https://www.hwchiu.com/openvswitch-bonding.html>Understanding the OpenvSwitch Bonding</a>.</p></blockquote><ol start=3><li>Create OVS IntPort (optional)</li></ol><p>If you need to access the PVE panel through this LACP network card, you need to set the VLAN or Native VLAN card here.</p><p><img loading=lazy src=https://i.imgur.com/yqPhGCm.png alt></p><p>After everything is done, click Apply Configuration. At this point, the system will use the command <code>ifreload --all</code> to restart the entire PVE Host network and establish an LACP connection.</p><p>If everything is normal, LACP can be used normally~</p><h2 id=results>Results<a hidden class=anchor aria-hidden=true href=#results>#</a></h2><p>There are mainly two types here:</p><ol><li>LACP status</li><li>Speed test results</li></ol><h3 id=check-lacp-status>Check LACP status<a hidden class=anchor aria-hidden=true href=#check-lacp-status>#</a></h3><p>Arista</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>core#show interfaces Port-Channel <span style=color:#ae81ff>1001</span>
</span></span><span style=display:flex><span>Port-Channel1001 is up, line protocol is up <span style=color:#f92672>(</span>connected<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>  Hardware is Port-Channel, address is 7483.ef49.cfda
</span></span><span style=display:flex><span>  Description: PVE-N1-LACP
</span></span><span style=display:flex><span>  Ethernet MTU <span style=color:#ae81ff>9214</span> bytes, BW <span style=color:#ae81ff>20000000</span> kbit
</span></span><span style=display:flex><span>  Full-duplex, 20Gb/s
</span></span><span style=display:flex><span>  Active members in this channel: <span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span>  ... Ethernet7/1 , Full-duplex, 10Gb/s
</span></span><span style=display:flex><span>  ... Ethernet8/1 , Full-duplex, 10Gb/s
</span></span><span style=display:flex><span>  Fallback mode is: off
</span></span><span style=display:flex><span>  Up <span style=color:#ae81ff>2</span> days, <span style=color:#ae81ff>10</span> hours, <span style=color:#ae81ff>21</span> minutes, <span style=color:#ae81ff>6</span> seconds
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>4</span> link status changes since last clear
</span></span><span style=display:flex><span>  Last clearing of <span style=color:#e6db74>&#34;show interface&#34;</span> counters never
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>5</span> minutes input rate <span style=color:#ae81ff>324</span> kbps <span style=color:#f92672>(</span>0.0% with framing overhead<span style=color:#f92672>)</span>, <span style=color:#ae81ff>200</span> packets/sec
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>5</span> minutes output rate <span style=color:#ae81ff>582</span> kbps <span style=color:#f92672>(</span>0.0% with framing overhead<span style=color:#f92672>)</span>, <span style=color:#ae81ff>496</span> packets/sec
</span></span><span style=display:flex><span>     <span style=color:#ae81ff>913814733</span> packets input, <span style=color:#ae81ff>1101680299997</span> bytes
</span></span><span style=display:flex><span>     Received <span style=color:#ae81ff>52458</span> broadcasts, <span style=color:#ae81ff>61239</span> multicast
</span></span><span style=display:flex><span>     <span style=color:#ae81ff>0</span> input errors, <span style=color:#ae81ff>0</span> input discards
</span></span><span style=display:flex><span>     <span style=color:#ae81ff>1430249790</span> packets output, <span style=color:#ae81ff>1734991390380</span> bytes
</span></span><span style=display:flex><span>     Sent <span style=color:#ae81ff>13679583</span> broadcasts, <span style=color:#ae81ff>5532412</span> multicast
</span></span><span style=display:flex><span>     <span style=color:#ae81ff>0</span> output errors, <span style=color:#ae81ff>1235</span> output discards
</span></span></code></pre></div><p>PVE</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>root@node2:~# ovs-appctl bond/list
</span></span><span style=display:flex><span>bond    type    recircID        members
</span></span><span style=display:flex><span>bond0   balance-tcp     <span style=color:#ae81ff>1</span>       ens20f1np1, ens20f0np0
</span></span><span style=display:flex><span>root@node2:~# ovs-appctl bond/show bond0
</span></span><span style=display:flex><span>---- bond0 ----
</span></span><span style=display:flex><span>bond_mode: balance-tcp
</span></span><span style=display:flex><span>bond may use recirculation: yes, Recirc-ID : <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>bond-hash-basis: <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>lb_output action: disabled, bond-id: -1
</span></span><span style=display:flex><span>updelay: <span style=color:#ae81ff>0</span> ms
</span></span><span style=display:flex><span>downdelay: <span style=color:#ae81ff>0</span> ms
</span></span><span style=display:flex><span>next rebalance: <span style=color:#ae81ff>7952</span> ms
</span></span><span style=display:flex><span>lacp_status: negotiated
</span></span><span style=display:flex><span>lacp_fallback_ab: false
</span></span><span style=display:flex><span>active-backup primary: &lt;none&gt;
</span></span><span style=display:flex><span>active member mac: b8:59:9f:ab:ff:89<span style=color:#f92672>(</span>ens20f1np1<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>member ens20f0np0: enabled
</span></span><span style=display:flex><span>  may_enable: true
</span></span><span style=display:flex><span>  hash 1: <span style=color:#ae81ff>1</span> kB load
</span></span><span style=display:flex><span>  hash 2: <span style=color:#ae81ff>1</span> kB load
</span></span><span style=display:flex><span>  hash 8: <span style=color:#ae81ff>5</span> kB load
</span></span><span style=display:flex><span>  hash 15: <span style=color:#ae81ff>3</span> kB load
</span></span><span style=display:flex><span>  hash 42: <span style=color:#ae81ff>1</span> kB load
</span></span><span style=display:flex><span>  hash 45: <span style=color:#ae81ff>1</span> kB load
</span></span><span style=display:flex><span>  hash 46: <span style=color:#ae81ff>1</span> kB load
</span></span><span style=display:flex><span>  hash 49: <span style=color:#ae81ff>1</span> kB load
</span></span><span style=display:flex><span>  hash 56: <span style=color:#ae81ff>1</span> kB load
</span></span><span style=display:flex><span>  hash 63: <span style=color:#ae81ff>2</span> kB load
</span></span><span style=display:flex><span>  hash 65: <span style=color:#ae81ff>1</span> kB load
</span></span><span style=display:flex><span>  hash 70: <span style=color:#ae81ff>1</span> kB load
</span></span><span style=display:flex><span>  hash 72: <span style=color:#ae81ff>1</span> kB load
</span></span><span style=display:flex><span>  hash 84: <span style=color:#ae81ff>2</span> kB load
</span></span><span style=display:flex><span>  hash 90: <span style=color:#ae81ff>4</span> kB load
</span></span><span style=display:flex><span>  hash 99: <span style=color:#ae81ff>3</span> kB load
</span></span><span style=display:flex><span>  hash 102: <span style=color:#ae81ff>32</span> kB load
</span></span><span style=display:flex><span>  hash 105: <span style=color:#ae81ff>36</span> kB load
</span></span><span style=display:flex><span>  hash 108: <span style=color:#ae81ff>33</span> kB load
</span></span><span style=display:flex><span>  hash 111: <span style=color:#ae81ff>30</span> kB load
</span></span><span style=display:flex><span>  hash 118: <span style=color:#ae81ff>13</span> kB load
</span></span><span style=display:flex><span>  hash 122: <span style=color:#ae81ff>1</span> kB load
</span></span><span style=display:flex><span>  hash 127: <span style=color:#ae81ff>8</span> kB load
</span></span><span style=display:flex><span>  hash 135: <span style=color:#ae81ff>1</span> kB load
</span></span><span style=display:flex><span>  hash 142: <span style=color:#ae81ff>2</span> kB load
</span></span><span style=display:flex><span>  hash 151: <span style=color:#ae81ff>1</span> kB load
</span></span><span style=display:flex><span>  hash 155: <span style=color:#ae81ff>30</span> kB load
</span></span><span style=display:flex><span>  hash 169: <span style=color:#ae81ff>1</span> kB load
</span></span><span style=display:flex><span>  hash 172: <span style=color:#ae81ff>5</span> kB load
</span></span><span style=display:flex><span>  hash 176: <span style=color:#ae81ff>2</span> kB load
</span></span><span style=display:flex><span>  hash 178: <span style=color:#ae81ff>3</span> kB load
</span></span><span style=display:flex><span>  hash 184: <span style=color:#ae81ff>3</span> kB load
</span></span><span style=display:flex><span>  hash 195: <span style=color:#ae81ff>3</span> kB load
</span></span><span style=display:flex><span>  hash 204: <span style=color:#ae81ff>5</span> kB load
</span></span><span style=display:flex><span>  hash 205: <span style=color:#ae81ff>1</span> kB load
</span></span><span style=display:flex><span>  hash 207: <span style=color:#ae81ff>1</span> kB load
</span></span><span style=display:flex><span>  hash 208: <span style=color:#ae81ff>6</span> kB load
</span></span><span style=display:flex><span>  hash 210: <span style=color:#ae81ff>3</span> kB load
</span></span><span style=display:flex><span>  hash 215: <span style=color:#ae81ff>1</span> kB load
</span></span><span style=display:flex><span>  hash 235: <span style=color:#ae81ff>1</span> kB load
</span></span><span style=display:flex><span>  hash 244: <span style=color:#ae81ff>30</span> kB load
</span></span><span style=display:flex><span>  hash 247: <span style=color:#ae81ff>1</span> kB load
</span></span><span style=display:flex><span>  hash 254: <span style=color:#ae81ff>3</span> kB load
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>member ens20f1np1: enabled
</span></span><span style=display:flex><span>  active member
</span></span><span style=display:flex><span>  may_enable: true
</span></span><span style=display:flex><span>  hash 3: <span style=color:#ae81ff>2</span> kB load
</span></span><span style=display:flex><span>  hash 13: <span style=color:#ae81ff>1</span> kB load
</span></span><span style=display:flex><span>  hash 21: <span style=color:#ae81ff>10</span> kB load
</span></span><span style=display:flex><span>  hash 27: <span style=color:#ae81ff>1</span> kB load
</span></span><span style=display:flex><span>  hash 32: <span style=color:#ae81ff>3</span> kB load
</span></span><span style=display:flex><span>  hash 34: <span style=color:#ae81ff>2</span> kB load
</span></span><span style=display:flex><span>  hash 40: <span style=color:#ae81ff>20</span> kB load
</span></span><span style=display:flex><span>  hash 60: <span style=color:#ae81ff>40</span>
</span></span></code></pre></div></div><footer class=post-footer><ul class=post-tags></ul></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://blog.steveyi.net/en/>SteveYi's Blog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>