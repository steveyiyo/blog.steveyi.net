<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Cisco N3K-C3048TP-1GE Upgrade from 6.x to 9.x Full Process | SteveYi's Blog</title><meta name=keywords content><meta name=description content="Recently, I had a N3K-C3048TP-1GE switch with an outdated version causing some issues, so I decided to upgrade to a new version to solve these problems!
Major version upgrades have certain risks, so please read this article and the official document before deciding whether to proceed!
Environment Before Upgrading Model: N3K-C3048TP-1GE-SUP
NXOS: 6.0(2)U3(4)
Important reminder:
Please follow the guide to upgrade this switch and do not upgrade to the latest version at once!"><meta name=author content="SteveYi"><link rel=canonical href=https://blog.steveyi.net/en/posts/upgrade-c3048tp-from-6.x-to-9.x/><link crossorigin=anonymous href=/assets/css/stylesheet.bccfefac377bc340f06c260aed1bddf49a4354816d7c570d6aac75a997986c95.css integrity="sha256-vM/vrDd7w0DwbCYK7Rvd9JpDVIFtfFcNaqx1qZeYbJU=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://blog.steveyi.net/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://blog.steveyi.net/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://blog.steveyi.net/favicon-32x32.png><link rel=apple-touch-icon href=https://blog.steveyi.net/apple-touch-icon.png><link rel=mask-icon href=https://blog.steveyi.net/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://blog.steveyi.net/en/posts/upgrade-c3048tp-from-6.x-to-9.x/><link rel=alternate hreflang=tw href=https://blog.steveyi.net/posts/upgrade-c3048tp-from-6.x-to-9.x/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-CPGWT2M3VT"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-CPGWT2M3VT",{anonymize_ip:!1})}</script><meta property="og:title" content="Cisco N3K-C3048TP-1GE Upgrade from 6.x to 9.x Full Process"><meta property="og:description" content="Recently, I had a N3K-C3048TP-1GE switch with an outdated version causing some issues, so I decided to upgrade to a new version to solve these problems!
Major version upgrades have certain risks, so please read this article and the official document before deciding whether to proceed!
Environment Before Upgrading Model: N3K-C3048TP-1GE-SUP
NXOS: 6.0(2)U3(4)
Important reminder:
Please follow the guide to upgrade this switch and do not upgrade to the latest version at once!"><meta property="og:type" content="article"><meta property="og:url" content="https://blog.steveyi.net/en/posts/upgrade-c3048tp-from-6.x-to-9.x/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-02-06T01:51:10+08:00"><meta property="article:modified_time" content="2023-02-06T01:51:10+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Cisco N3K-C3048TP-1GE Upgrade from 6.x to 9.x Full Process"><meta name=twitter:description content="Recently, I had a N3K-C3048TP-1GE switch with an outdated version causing some issues, so I decided to upgrade to a new version to solve these problems!
Major version upgrades have certain risks, so please read this article and the official document before deciding whether to proceed!
Environment Before Upgrading Model: N3K-C3048TP-1GE-SUP
NXOS: 6.0(2)U3(4)
Important reminder:
Please follow the guide to upgrade this switch and do not upgrade to the latest version at once!"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://blog.steveyi.net/en/posts/"},{"@type":"ListItem","position":2,"name":"Cisco N3K-C3048TP-1GE Upgrade from 6.x to 9.x Full Process","item":"https://blog.steveyi.net/en/posts/upgrade-c3048tp-from-6.x-to-9.x/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Cisco N3K-C3048TP-1GE Upgrade from 6.x to 9.x Full Process","name":"Cisco N3K-C3048TP-1GE Upgrade from 6.x to 9.x Full Process","description":"Recently, I had a N3K-C3048TP-1GE switch with an outdated version causing some issues, so I decided to upgrade to a new version to solve these problems!\nMajor version upgrades have certain risks, so please read this article and the official document before deciding whether to proceed!\nEnvironment Before Upgrading Model: N3K-C3048TP-1GE-SUP\nNXOS: 6.0(2)U3(4)\nImportant reminder:\nPlease follow the guide to upgrade this switch and do not upgrade to the latest version at once!","keywords":[],"articleBody":"Recently, I had a N3K-C3048TP-1GE switch with an outdated version causing some issues, so I decided to upgrade to a new version to solve these problems!\nMajor version upgrades have certain risks, so please read this article and the official document before deciding whether to proceed!\nEnvironment Before Upgrading Model: N3K-C3048TP-1GE-SUP\nNXOS: 6.0(2)U3(4)\nImportant reminder:\nPlease follow the guide to upgrade this switch and do not upgrade to the latest version at once!\nOtherwise, your device may become bricked and unusable!\nReference documents:\nCisco Nexus 3048TP Bricked Upgrade Nexus 3048 NX-OS Software Upgrade Path 6.0(2)U3(4) \u003c– Initial version 6.0(2)U6(3a) 7.0(3)I7(6) 9.3(3) Upgrade from 6.0(2)U3(4) to 6.0(2)U6(3a) First, obtain the corresponding bin files.\nn3000-uk9-kickstart.6.0.2.U6.3a.bin n3000-uk9.6.0.2.U6.3a.bin It is noteworthy that in this version, kickstart and nxos are separated.\nAfter obtaining the files, enter the following command to install the new version. Please modify the corresponding directory and file name yourself.\ninstall all kickstart bootflash:n3000-uk9-kickstart.6.0.2.U6.3a.bin system bootflash:n3000-uk9.6.0.2.U6.3a.bin When all verifications are completed, please enter y to install the new version to the system.\nThe switch will automatically restart after the installation is completed.\nAfter restarting, enter show module to see if the upgrade was successful!\nUpgrade from 6.0(2)U6(3a) to 7.0(3)I7(6) Here, we use nxos.7.0.3.I7.6.bin as the upgrade file.\nEnter the following command directly to start the upgrade. Please modify the corresponding directory and file name yourself.\ninstall all nxos bootflash:nxos.7.0.3.I7.6.bin` After the upgrade is completed, enter show module again to see if the upgrade was successful!\nUpgrade from 7.0(3)I7(6) to 9.3(3) Finally, we come to the last step! If your NX-OS version is 7.x, you can upgrade directly to 9.x!\nHere, I used a compacted file that has already been prepared. Since the system disk space is insufficient, I first stored the file on a USB and deleted the log.\nWhen installing the new version, the .bin file will still be copied to the system. So if the system space is still insufficient, the upgrade may fail!\nnxos.9.3.3.compact.bin Use the following command to upgrade. Please modify the corresponding directory and file name yourself.\ninstall all nxos usb1:nxos.9.3.3.compact.bin After verification, remember to enter y to install the new version into the system!\nAfter the final restart, enter show module to verify if the update was successful~\nConclusion Major version installations are really cumbersome and dangerous!\nI strongly recommend connecting to the console during the upgrade to prevent network disconnection from causing you to not know the latest situation. Also, it may cause your configuration file to be lost, so please back up your current configuration file before upgrading.\nFinally, thank you very much to akw and Licson for their assistance during the upgrade process!\n","wordCount":"440","inLanguage":"en","datePublished":"2023-02-06T01:51:10+08:00","dateModified":"2023-02-06T01:51:10+08:00","author":{"@type":"Person","name":"SteveYi"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.steveyi.net/en/posts/upgrade-c3048tp-from-6.x-to-9.x/"},"publisher":{"@type":"Organization","name":"SteveYi's Blog","logo":{"@type":"ImageObject","url":"https://blog.steveyi.net/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://blog.steveyi.net/en/ accesskey=h title="SteveYi's Blog (Alt + H)">SteveYi's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li><li><a href=https://blog.steveyi.net/ title=正體中文 aria-label=正體中文>Tw</a></li></ul></div></div><ul id=menu><li><a href=https://blog.steveyi.net/en/ title="Home Page"><span>Home</span></a></li><li><a href=https://blog.steveyi.net/en/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://blog.steveyi.net/en/about/ title=關於小易><span>About</span></a></li><li><a href=https://twitter.com/cool_small_yi title=Twitter><span>Twitter</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>Cisco N3K-C3048TP-1GE Upgrade from 6.x to 9.x Full Process</h1><div class=post-meta><span title='2023-02-06 01:51:10 +0800 +0800'>2023-02-06</span>&nbsp;·&nbsp;SteveYi&nbsp;|&nbsp;Translations:<ul class=i18n_list><li><a href=https://blog.steveyi.net/posts/upgrade-c3048tp-from-6.x-to-9.x/>Tw</a></li></ul></div></header><div class=post-content><p>Recently, I had a N3K-C3048TP-1GE switch with an outdated version causing some issues, so I decided to upgrade to a new version to solve these problems!</p><p>Major version upgrades have certain risks, so please read this article and the <a href=https://www.cisco.com/c/en/us/support/docs/switches/nexus-3048-switch/216023-nexus-3048-nx-os-software-upgrade-proced.html>official document</a> before deciding whether to proceed!</p><h2 id=environment-before-upgrading>Environment Before Upgrading<a hidden class=anchor aria-hidden=true href=#environment-before-upgrading>#</a></h2><p>Model: N3K-C3048TP-1GE-SUP<br>NXOS: 6.0(2)U3(4)</p><blockquote><p>Important reminder:<br>Please follow the guide to upgrade this switch and do not upgrade to the latest version at once!<br>Otherwise, your device may become bricked and unusable!</p></blockquote><p>Reference documents:</p><ul><li><a href=https://community.cisco.com/t5/switches-small-business/cisco-nexus-3048tp-bricked/td-p/3182064>Cisco Nexus 3048TP Bricked</a></li><li><a href=https://www.cisco.com/c/en/us/support/docs/switches/nexus-3048-switch/216023-nexus-3048-nx-os-software-upgrade-proced.html>Upgrade Nexus 3048 NX-OS Software</a></li></ul><h2 id=upgrade-path>Upgrade Path<a hidden class=anchor aria-hidden=true href=#upgrade-path>#</a></h2><ol><li>6.0(2)U3(4) &lt;&ndash; Initial version</li><li>6.0(2)U6(3a)</li><li>7.0(3)I7(6)</li><li>9.3(3)</li></ol><h2 id=upgrade-from-602u34-to-602u63a>Upgrade from 6.0(2)U3(4) to 6.0(2)U6(3a)<a hidden class=anchor aria-hidden=true href=#upgrade-from-602u34-to-602u63a>#</a></h2><p>First, obtain the corresponding bin files.</p><ul><li>n3000-uk9-kickstart.6.0.2.U6.3a.bin</li><li>n3000-uk9.6.0.2.U6.3a.bin</li></ul><blockquote><p>It is noteworthy that in this version, kickstart and nxos are separated.</p></blockquote><p>After obtaining the files, enter the following command to install the new version. Please modify the corresponding directory and file name yourself.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>install all kickstart bootflash:n3000-uk9-kickstart.6.0.2.U6.3a.bin system bootflash:n3000-uk9.6.0.2.U6.3a.bin
</span></span></code></pre></div><p><img loading=lazy src=https://i.imgur.com/5NnAvVL.jpg alt></p><p>When all verifications are completed, please enter <code>y</code> to install the new version to the system.<br>The switch will automatically restart after the installation is completed.</p><p><img loading=lazy src=https://i.imgur.com/jjaGYT9.png alt></p><p>After restarting, enter <code>show module</code> to see if the upgrade was successful!</p><p><img loading=lazy src=https://i.imgur.com/3stlea5.jpg alt></p><h2 id=upgrade-from-602u63a-to-703i76>Upgrade from 6.0(2)U6(3a) to 7.0(3)I7(6)<a hidden class=anchor aria-hidden=true href=#upgrade-from-602u63a-to-703i76>#</a></h2><p>Here, we use <code>nxos.7.0.3.I7.6.bin</code> as the upgrade file.</p><p>Enter the following command directly to start the upgrade. Please modify the corresponding directory and file name yourself.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>install all nxos bootflash:nxos.7.0.3.I7.6.bin<span style=color:#e6db74>`</span>
</span></span></code></pre></div><p>After the upgrade is completed, enter <code>show module</code> again to see if the upgrade was successful!</p><p><img loading=lazy src=https://i.imgur.com/XVEwapW.jpg alt></p><h2 id=upgrade-from-703i76-to-933>Upgrade from 7.0(3)I7(6) to 9.3(3)<a hidden class=anchor aria-hidden=true href=#upgrade-from-703i76-to-933>#</a></h2><p>Finally, we come to the last step! If your NX-OS version is 7.x, you can upgrade directly to 9.x!</p><p>Here, I used a compacted file that has already been prepared. Since the system disk space is insufficient, I first stored the file on a USB and deleted the log.</p><hr><p>When installing the new version, the .bin file will still be copied to the system.
So if the system space is still insufficient, the upgrade may fail!</p><hr><ul><li>nxos.9.3.3.compact.bin</li></ul><p>Use the following command to upgrade. Please modify the corresponding directory and file name yourself.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>install all nxos usb1:nxos.9.3.3.compact.bin
</span></span></code></pre></div><p>After verification, remember to enter <code>y</code> to install the new version into the system!</p><p><img loading=lazy src=https://i.imgur.com/7Po780T.png alt></p><p>After the final restart, enter <code>show module</code> to verify if the update was successful~</p><p><img loading=lazy src=https://i.imgur.com/pcDihVj.jpg alt></p><h2 id=conclusion>Conclusion<a hidden class=anchor aria-hidden=true href=#conclusion>#</a></h2><p>Major version installations are really cumbersome and dangerous!</p><p>I strongly recommend connecting to the console during the upgrade to prevent network disconnection from causing you to not know the latest situation. Also, it may cause your configuration file to be lost, so please back up your current configuration file before upgrading.</p><p>Finally, thank you very much to akw and Licson for their assistance during the upgrade process!</p><p><img loading=lazy src=https://i.imgur.com/HmZXnnD.png alt></p></div><footer class=post-footer><ul class=post-tags></ul></footer></article></main><footer class=footer><span>&copy; 2024 <a href=https://blog.steveyi.net/en/>SteveYi's Blog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>